<ion-header>
  <ion-toolbar >
    <ion-title>Gestion des Commandes</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="pointdevente"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="commandes-container">
    <!-- Liste des commandes -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>Liste des Commandes</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ion-item *ngFor="let commande of commandes">
            <ion-label>
              <h2>Commande #{{ commande.id }}</h2>
              <p>Date: {{ commande.dateCommande | date }}</p>
              <p>Status: <strong>{{ commande.statut }}</strong></p>
            </ion-label>
            <ion-buttons slot="end">
              <ion-button color="primary" (click)="suivreCommande(commande.id)">
                Suivre
              </ion-button>
              <ion-button color="danger" (click)="annulerCommande(commande.id)">
                Annuler
              </ion-button>
            </ion-buttons>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <!-- Passer une nouvelle commande -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>Passer une Nouvelle Commande</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-item>
          <ion-label position="stacked">Produit</ion-label>
          <ion-select [(ngModel)]="nouvelleCommande.produit" placeholder="Sélectionner un produit">
            <ion-select-option *ngFor="let produit of produits" [value]="produit.id">
              {{ produit.nom }}
            </ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Quantité</ion-label>
          <ion-input [(ngModel)]="nouvelleCommande.quantite" placeholder="Quantité" type="number"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Date de Livraison</ion-label>
          <ion-datetime [(ngModel)]="nouvelleCommande.dateLivraison" placeholder="Sélectionner une date"></ion-datetime>
        </ion-item>

        <ion-button expand="full" color="secondary" (click)="passerCommande()">
          Confirmer la Commande
        </ion-button>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
